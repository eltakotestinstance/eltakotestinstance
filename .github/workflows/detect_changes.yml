
#diff <(sed '/---/q' file1.txt) <(sed '/---/q' file2.txt)


name: Compare milestone changes
on:
  milestone:
    types: [edited]

jobs:
  compare_changes:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Compare changes
        uses: actions/github-script@v6
        id: compare_changes
        with:
            result-encoding: boolean
            script: |
                
                const currentDescription = context.payload.milestone.description;
                const previousDescription = context.payload.changes.description.from;

                // Split the descriptions at the dividing string
                const currentDescriptionSplit = currentDescription.split('---')[0];
                const previousDescriptionSplit = previousDescription.split('---')[0];

                // Compare the descriptions
                if (currentDescriptionSplit !== previousDescriptionSplit) {
                    console.log('The descriptions are different');
                    return true;
                } else {
                    console.log('The descriptions are the same');
                    return false;
                }
